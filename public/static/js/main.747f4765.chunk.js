(this["webpackJsonpcenso-app"]=this["webpackJsonpcenso-app"]||[]).push([[0],{163:function(e,t,a){},312:function(e,t){},314:function(e,t){},326:function(e,t){},328:function(e,t){},355:function(e,t){},357:function(e,t){},358:function(e,t){},363:function(e,t){},365:function(e,t){},384:function(e,t){},396:function(e,t){},399:function(e,t){},419:function(e,t,a){},426:function(e,t,a){},427:function(e,t,a){"use strict";a.r(t);var c=a(0),n=a(1),r=a(45),o=a.n(r),s=a(4),i=a.n(s),l=a(13),d=a(7),j=Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).REACT_APP_API_URL,u=function(){var e=Object(l.a)(i.a.mark((function e(t,a){var c,n,r,o,s=arguments;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(c=s.length>2&&void 0!==s[2]?s[2]:"GET",n="".concat(j,"/").concat(t),"GET"!==c){e.next=11;break}return e.next=5,fetch(n);case 5:return r=e.sent,e.next=8,r.json();case 8:return e.abrupt("return",e.sent);case 11:return e.next=13,fetch(n,{method:c,headers:{"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify(a)});case 13:return o=e.sent,e.next=16,o.json();case 16:return e.abrupt("return",e.sent);case 17:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),b=function(){var e=Object(l.a)(i.a.mark((function e(t,a){var c,n,r,o,s,l=arguments;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(c=l.length>2&&void 0!==l[2]?l[2]:"GET",n="".concat(j,"/").concat(t),r=localStorage.getItem("token")||"","GET"!==c){e.next=12;break}return e.next=6,fetch(n,{headers:{"x-token":r}});case 6:return o=e.sent,e.next=9,o.json();case 9:return e.abrupt("return",e.sent);case 12:return e.next=14,fetch(n,{method:c,headers:{"Content-Type":"application/json",Accept:"application/json","x-token":r},body:JSON.stringify(a)});case 14:return s=e.sent,e.next=17,s.json();case 17:return e.abrupt("return",e.sent);case 18:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),m=Object(n.createContext)(),p={uid:null,checking:!0,logged:!1,name:null,email:null,rol:null,vinculo:null},x=function(e){var t=e.children,a=Object(n.useState)(p),r=Object(d.a)(a,2),o=r[0],s=r[1],j=function(){var e=Object(l.a)(i.a.mark((function e(t,a){var c,n;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,u("login",{email:t,password:a},"POST");case 2:return(c=e.sent).ok&&(localStorage.setItem("token",c.token),n=c.usuario,s({uid:n.uid,checking:!1,logged:!0,name:n.nombre,email:n.email,rol:n.rol,vinculo:n.vinculo})),e.abrupt("return",c.ok);case 5:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),x=function(){var e=Object(l.a)(i.a.mark((function e(t,a,c,n,r){var o;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,u("login/new",{email:t,password:a,nombre:c,rol:n,vinculo:r},"POST");case 2:return o=e.sent,e.abrupt("return",o.ok);case 4:case"end":return e.stop()}}),e)})));return function(t,a,c,n,r){return e.apply(this,arguments)}}(),O=function(){var e=Object(l.a)(i.a.mark((function e(t,a,c,n,r,o){var s;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,u("login/EditarYEncriptar",{email:t,password:a,nombre:c,rol:n,vinculo:r,uid:o},"POST");case 2:return s=e.sent,e.abrupt("return",s.ok);case 4:case"end":return e.stop()}}),e)})));return function(t,a,c,n,r,o){return e.apply(this,arguments)}}(),h=function(){var e=Object(l.a)(i.a.mark((function e(t,a,c,n,r,o){var s;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,u("login/EditarSinEncriptar",{email:t,password:a,nombre:c,rol:n,vinculo:r,uid:o},"POST");case 2:return s=e.sent,e.abrupt("return",s.ok);case 4:case"end":return e.stop()}}),e)})));return function(t,a,c,n,r,o){return e.apply(this,arguments)}}(),v=Object(n.useCallback)(Object(l.a)(i.a.mark((function e(){var t,a;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(localStorage.getItem("token")){e.next=4;break}return s({uid:null,checking:!1,logged:!1}),e.abrupt("return",!1);case 4:return e.next=6,b("login/renew");case 6:if(!(t=e.sent).ok){e.next=14;break}return localStorage.setItem("token",t.token),a=t.usuario,s({uid:a.uid,checking:!1,logged:!0,name:a.nombre,email:a.email,rol:a.rol,vinculo:a.vinculo}),e.abrupt("return",!0);case 14:return s({checking:!1,logged:!1}),e.abrupt("return",!1);case 16:case"end":return e.stop()}}),e)}))),[]);return Object(c.jsx)(m.Provider,{value:{auth:o,login:j,register:x,verificaToken:v,logout:function(){localStorage.removeItem("token"),s({checking:!1,logged:!1})},EditarSinEncriptar:h,EditarYEncriptar:O},children:t})},O=a(234),h=a.n(O),v=Object(n.createContext)(),f=function(e){var t=e.children,a=Object(n.useState)(""),r=Object(d.a)(a,2),o=r[0],s=r[1],i=Object(n.useState)(""),l=Object(d.a)(i,2),j=l[0],u=l[1],b=Object(n.useState)(""),p=Object(d.a)(b,2),x=p[0],O=p[1],f=function(e){var t=Object(n.useState)(null),a=Object(d.a)(t,2),c=a[0],r=a[1],o=Object(n.useState)(!1),s=Object(d.a)(o,2),i=s[0],l=s[1],j=Object(n.useCallback)((function(){var t=localStorage.getItem("token"),a=h.a.connect(e,{transports:["websocket"],autoConnect:!0,forceNew:!0,query:{"x-token":t}});r(a)}),[e]),u=Object(n.useCallback)((function(){null===c||void 0===c||c.disconnect()}),[c]);return Object(n.useEffect)((function(){l(null===c||void 0===c?void 0:c.connected)}),[c]),Object(n.useEffect)((function(){null===c||void 0===c||c.on("connect",(function(){return l(!0)}))}),[c]),Object(n.useEffect)((function(){null===c||void 0===c||c.on("disconnect",(function(){return l(!1)}))}),[c]),{socket:c,online:i,conectarSocket:j,desconectarSocket:u}}("http://localhost:8080"),g=f.socket,N=f.online,w=f.conectarSocket,E=f.desconectarSocket,y=Object(n.useContext)(m).auth;return Object(n.useEffect)((function(){y.logged&&w()}),[y,w]),Object(n.useEffect)((function(){y.logged||E()}),[y,E]),Object(n.useEffect)((function(){null===g||void 0===g||g.on("Eliminar",(function(e){s(e)}))}),[g]),Object(n.useEffect)((function(){null===g||void 0===g||g.on("Editar",(function(e){O(e)}))}),[g]),Object(n.useEffect)((function(){null===g||void 0===g||g.on("Datos-Votante",(function(e){u(e)}))}),[g]),Object(c.jsx)(v.Provider,{value:{socket:g,online:N,votanteActualizado:o,votanteNuevo:j,votanteEditado:x},children:t})},g=Object(n.createContext)(),N={_id:"",nombre:"",domicilio:"",sexo:"",fechaNacimiento:"",claveElector:"",Registro:"",curp:"",estado:"",localidad:"",municipio:"",seccion:"",emision:"",vigencia:"",digitador:"",candidato:"",preguntaUno:"",preguntaDos:"",preguntaTres:"",voto:""},w=function(e){var t=e.children,a=Object(n.useState)(N),r=Object(d.a)(a,2),o=r[0],s=r[1];return Object(c.jsx)(g.Provider,{value:{elector:o,registrarElector:function(e){s(e)}},children:t})},E=a(20),y=a(17),C=a(25),k=a(8),S=a(19),R=a.n(S),T=a(429),F=function(){var e=Object(n.useContext)(g).elector,t=Object(y.g)(),a=Object(n.useContext)(m).auth,r=Object(n.useContext)(v),o=r.socket,s=r.votanteEditado,i=Object(n.useState)({id:e.id,nombre:e.nombre,domicilio:e.domicilio,sexo:e.sexo,fechaNacimiento:e.fechaNacimiento,claveElector:e.claveElector,Registro:e.Registro,curp:e.curp,estado:e.estado,localidad:e.localidad,municipio:e.municipio,seccion:e.seccion,emision:e.emision,vigencia:e.vigencia,preguntaUno:e.preguntaUno,preguntaDos:e.preguntaDos,preguntaTres:e.preguntaTres,voto:e.voto}),l=Object(d.a)(i,2),j=l[0],u=l[1],b=function(e){var t=e.target,c=t.name,n=t.value;u(Object(k.a)(Object(k.a)({},j),{},Object(C.a)({digitador:a.uid,candidato:a.vinculo},c,n)))},p=function(){return j.nombre.length>0&&j.domicilio.length>0&&j.fechaNacimiento.length>0&&j.sexo.length>0&&j.claveElector.length>0&&j.Registro.length>0&&j.curp.length>0&&j.estado.length>0&&j.municipio.length>0&&j.localidad.length>0&&j.seccion.length>0&&j.emision.length>0&&j.vigencia.length>0&&j.preguntaUno.length>0&&j.preguntaDos.length>0&&j.preguntaTres.length>0&&j.voto.length>0};return Object(c.jsxs)("div",{className:"container",children:[Object(c.jsx)("div",{className:"py-5 text-center",children:Object(c.jsx)("h2",{children:"Registro de Electores"})}),Object(c.jsx)("div",{className:"col-md-12 col-lg-12 p-3",children:Object(c.jsx)("form",{onSubmit:function(a){a.preventDefault(),o.emit("Editar",{_id:e.id,nombre:j.nombre,domicilio:j.domicilio,sexo:j.sexo,fechaNacimiento:j.fechaNacimiento,claveElector:j.claveElector,Registro:j.Registro,curp:j.curp,estado:j.estado,localidad:j.localidad,municipio:j.municipio,seccion:j.seccion,emision:j.emision,vigencia:j.vigencia,digitador:j.digitador,candidato:j.candidato,preguntaUno:j.preguntaUno,preguntaDos:j.preguntaDos,preguntaTres:j.preguntaTres,voto:j.voto}),!1===s?R.a.fire("Error","Debe llear todos los campos correctamente, si el problema continua comuniquese con el administrador","error"):R.a.fire({position:"center",icon:"success",title:"Editado",showConfirmButton:!1,timer:1500}),t.push("/")},className:"needs-validation",children:Object(c.jsxs)("div",{className:"row g-3",children:[Object(c.jsxs)("div",{className:"col-sm-6",children:[Object(c.jsx)("label",{className:"form-label",children:"Fecha de Nacimiento"}),Object(c.jsx)("input",{type:"text",className:"form-control",name:"fechaNacimiento",placeholder:"00/00/0000",required:!0,value:j.fechaNacimiento,onChange:b})]}),Object(c.jsxs)("div",{className:"col-sm-6",children:[Object(c.jsx)("label",{className:"form-label",children:"Sexo"}),Object(c.jsxs)("select",{border:"none",type:"select",className:"form-control border border-2 p-2 rounded-3",name:"sexo",placeholder:"Femenino - Masculino",value:j.sexo,onChange:b,required:!0,children:[Object(c.jsx)("option",{value:"Masculino",children:"Masculino"}),Object(c.jsx)("option",{value:"Femenino",children:"Femenino"})]})]}),Object(c.jsxs)("div",{className:"col-sm-6",children:[Object(c.jsx)("label",{className:"form-label",children:"Nombre"}),Object(c.jsx)("input",{type:"text",className:"form-control",placeholder:"",defaultChecked:j.nombre,name:"nombre",value:j.nombre,onChange:b,required:!0}),Object(c.jsx)("div",{className:"invalid-feedback",children:"Valid first name is ."})]}),Object(c.jsxs)("div",{className:"col-sm-6",children:[Object(c.jsx)("label",{className:"form-label",children:"Domicilio"}),Object(c.jsx)("input",{type:"text",className:"form-control",name:"domicilio",placeholder:" C. Hidalgo Norte ...",required:!0,value:j.domicilio,onChange:b})]}),Object(c.jsxs)("div",{className:"col-sm-6",children:[Object(c.jsx)("label",{className:"form-label",children:"Clave de Elector"}),Object(c.jsx)("input",{type:"text",className:"form-control",name:"claveElector",placeholder:"",required:!0,value:j.claveElector,onChange:b}),Object(c.jsx)("div",{className:"invalid-feedback",children:"Valid first name is ."})]}),Object(c.jsxs)("div",{className:"col-sm-6",children:[Object(c.jsx)("label",{className:"form-label",children:"A\xf1o de Registro"}),Object(c.jsx)("input",{pattern:"[0-9]+",type:"text",className:"form-control",name:"Registro",placeholder:"Ej. 2020",required:!0,value:j.Registro,onChange:b})]}),Object(c.jsxs)("div",{className:"col-sm-6",children:[Object(c.jsx)("label",{className:"form-label",children:"CURP"}),Object(c.jsx)("input",{type:"text",className:"form-control",name:"curp",placeholder:"",required:!0,value:j.curp,onChange:b})]}),Object(c.jsxs)("div",{className:"col-sm-6",children:[Object(c.jsx)("label",{className:"form-label",children:"Estado"}),Object(c.jsx)("input",{type:"text",className:"form-control",name:"estado",placeholder:"Ej. 21",required:!0,value:j.estado,onChange:b}),Object(c.jsx)("div",{className:"invalid-feedback",children:"Valid last name is ."})]}),Object(c.jsxs)("div",{className:"col-sm-6",children:[Object(c.jsx)("label",{className:"form-label",children:"Municipio"}),Object(c.jsx)("input",{type:"text",className:"form-control",name:"municipio",placeholder:"Ej. 010",required:!0,value:j.municipio,onChange:b})]}),Object(c.jsxs)("div",{className:"col-sm-6",children:[Object(c.jsx)("label",{className:"form-label",children:"Localidad"}),Object(c.jsx)("input",{type:"text",className:"form-control",name:"localidad",placeholder:"Ej. 0001",required:!0,value:j.localidad,onChange:b})]}),Object(c.jsxs)("div",{className:"col-sm-6",children:[Object(c.jsx)("label",{className:"form-label",children:"Seccion"}),Object(c.jsx)("input",{type:"text",className:"form-control",name:"seccion",placeholder:"Ej. 0081",required:!0,value:j.seccion,onChange:b})]}),Object(c.jsxs)("div",{className:"col-sm-6",children:[Object(c.jsx)("label",{className:"form-label",children:"Emisi\xf3n"}),Object(c.jsx)("input",{pattern:"[0-9]+",type:"text",className:"form-control",name:"emision",placeholder:"Ej. 2020",required:!0,value:j.emision,onChange:b})]}),Object(c.jsxs)("div",{className:"col-sm-6",children:[Object(c.jsx)("label",{className:"form-label",children:"Vigencia"}),Object(c.jsx)("input",{pattern:"[0-9]+",type:"text",className:"form-control",name:"vigencia",placeholder:"Ej. 2024",required:!0,value:j.vigencia,onChange:b})]}),Object(c.jsx)("hr",{className:"my-4"}),Object(c.jsx)("h3",{children:"Encuesta"}),Object(c.jsxs)("div",{className:"col-sm-12",children:[Object(c.jsx)("label",{className:"form-label",children:"\xbfQu\xe9 quieres para ti?"}),Object(c.jsx)("textarea",{className:"form-control border border-2 p-2 rounded-3",name:"preguntaUno",required:!0,value:j.preguntaUno,onChange:b})]}),Object(c.jsxs)("div",{className:"col-sm-12",children:[Object(c.jsx)("label",{className:"form-label",children:"\xbfQu\xe9 quieres para tu colonia?"}),Object(c.jsx)("textarea",{className:"form-control border border-2 p-2 rounded-3",name:"preguntaDos",required:!0,value:j.preguntaDos,onChange:b})]}),Object(c.jsxs)("div",{className:"col-sm-12",children:[Object(c.jsx)("label",{className:"form-label",children:"\xbfQu\xe9 quieres para tu pueblo o ciudad?"}),Object(c.jsx)("textarea",{className:"form-control border border-2 p-2 rounded-3",name:"preguntaTres",required:!0,value:j.preguntaTres,onChange:b})]}),Object(c.jsxs)("div",{className:"col-sm-3 col-3",children:[Object(c.jsx)("label",{className:"form-label",children:"Voto:"}),Object(c.jsxs)("select",{border:"none",type:"select",className:"form-control border border-2 p-2 rounded-3",name:"voto",placeholder:"Femenino - Masculino",value:j.voto,onChange:b,required:!0,children:[Object(c.jsx)("option",{hidden:!0,value:"",children:"si o no"}),Object(c.jsx)("option",{value:"Si",children:"Si"}),Object(c.jsx)("option",{value:"No",children:"No"})]})]}),Object(c.jsx)("hr",{className:"my-4"}),Object(c.jsxs)(T.a,{color:"warning",hidden:p(),children:[Object(c.jsx)("i",{className:"fas fa-exclamation-triangle"})," Importante: No debe dejar ning\xfan campo vac\xedo o incorrecto."]}),Object(c.jsx)("button",{className:"w-100 btn btn-outline-success btn-lg",type:"submit",disabled:!p(),children:"Guardar"})]})})})]})},D=(a(163),function(){var e=Object(n.useContext)(m),t=e.auth,a=e.logout;return Object(c.jsx)(c.Fragment,{children:Object(c.jsx)("nav",{className:"navbar navbar-expand-lg navbar-dark bg-primary px-3 z-index",children:Object(c.jsxs)("div",{className:"container-fluid text-white",children:[Object(c.jsxs)("label",{className:"navbar-brand ",children:["Bienvenido: ",t.name]}),Object(c.jsx)("button",{className:"navbar-toggler",type:"button","data-bs-toggle":"collapse","data-bs-target":"#navbarSupportedContent","aria-controls":"navbarSupportedContent","aria-expanded":"false","aria-label":"Toggle navigation",children:Object(c.jsx)("span",{className:"navbar-toggler-icon"})}),Object(c.jsx)("div",{className:"collapse navbar-collapse ",id:"navbarSupportedContent",children:Object(c.jsxs)("ul",{className:"navbar-nav me-auto mb-2 mb-lg-0 ",children:[Object(c.jsx)("li",{className:"nav-item",children:Object(c.jsx)(E.b,{className:"btn btn-primary",to:"/",children:"Inicio"})}),Object(c.jsx)("li",{className:"nav-item",children:Object(c.jsx)(E.b,{className:"btn btn-primary",to:"/registroVotantes",children:"Registrar Electores"})}),"Candidato"===t.rol||"Administrador"===t.rol?Object(c.jsxs)(c.Fragment,{children:[Object(c.jsx)("li",{className:"nav-item",children:Object(c.jsx)(E.b,{className:"btn btn-primary",to:"/Mapa",children:"Mapa"})}),"Candidato"===t.rol?Object(c.jsx)("li",{className:"nav-item",children:Object(c.jsx)(E.b,{className:"btn btn-primary",to:"/register",children:"Usuarios"})}):Object(c.jsx)(c.Fragment,{children:Object(c.jsxs)("li",{className:"nav-item dropdown",children:[Object(c.jsxs)("button",{className:"btn btn-primary","data-bs-toggle":"dropdown",children:["Usuarios ",Object(c.jsx)("i",{className:"fas fa-caret-down"})]}),Object(c.jsxs)("ul",{className:"dropdown-menu","aria-labelledby":"navbarDropdown",children:[Object(c.jsx)(E.b,{className:"dropdown-item",to:"/register",children:"Registrar"}),Object(c.jsx)(E.b,{className:"dropdown-item",to:"/EditarUsuarios",children:"Editar"})]})]})})]}):Object(c.jsx)(c.Fragment,{}),Object(c.jsx)("li",{className:"nav-item",children:Object(c.jsx)("button",{type:"button",className:"btn btn-primary",onClick:a,children:"Salir"})})]})})]})})})}),A=function(){return Object(c.jsxs)("div",{children:[Object(c.jsx)(D,{}),Object(c.jsx)(F,{})]})},q=function(){var e=Object(n.useContext)(m).auth,t=Object(n.useState)([]),a=Object(d.a)(t,2),r=a[0],o=a[1],s=Object(n.useContext)(v),j=s.votanteActualizado,u=s.votanteNuevo;Object(n.useEffect)((function(){(function(){var t=Object(l.a)(i.a.mark((function t(){var a,c;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(a=[],"Administrador"!==e.rol){t.next=9;break}return t.t0=Object,t.next=5,b("votantes/todos/votantes");case 5:t.t1=t.sent,a=t.t0.values.call(t.t0,t.t1),t.next=14;break;case 9:return t.t2=Object,t.next=12,b("votantes/".concat(e.uid));case 12:t.t3=t.sent,a=t.t2.values.call(t.t2,t.t3);case 14:c=a.map((function(e){return{municipio:e.municipio}})),o(c);case 16:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}})()()}),[e,j,u]);return Object(c.jsx)(c.Fragment,{children:Object(c.jsx)("div",{className:"container  p-3 mt-5 mb-5",children:Object(c.jsx)("div",{className:"d-flex justify-content-evenly flex-wrap",children:Object(c.jsxs)("div",{className:"card border-primary border-3 mb-1",style:{width:"17rem"},children:[Object(c.jsx)("center",{children:Object(c.jsx)("div",{className:"card-header fs-4",children:"Total de Electores Registrados"})}),Object(c.jsx)("div",{className:"card-body text-primary",children:Object(c.jsx)("center",{children:Object(c.jsx)("h1",{className:"card-title",children:r.length})})})]})})})})};var P=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:window.matchMedia(e).matches,a=Object(n.useState)(t),c=Object(d.a)(a,2),r=c[0],o=c[1];return Object(n.useEffect)((function(){var t=window.matchMedia(e);t.matches!==r&&o(t.matches);var a=function(){return o(t.matches)};return t.addListener(a),function(){return t.removeListener(a)}}),[e,r]),r},U=a(88),M=a.n(U),I=function(e){var t=e.filtroVotante,a=e.Eliminar,r=Object(y.g)(),o=Object(n.useContext)(g).registrarElector,s=Object(n.useContext)(m).auth,d={animationDuration:"1.5s",width:"12rem",marginLeft:"auto",marginRight:"auto",boxShadow:"2px 2px 12px #999"},j={fontWeight:"bold"},u=function(){var e=Object(l.a)(i.a.mark((function e(t){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o(t);case 2:r.push("/Edit");case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return t.map((function(e){return Object(c.jsx)("div",{className:"card border-info border-1 mb-4 animate__animated animate__bounceInLeft",style:d,children:Object(c.jsxs)("div",{className:"card-body",children:[Object(c.jsx)("p",{style:j,children:"Nombre:"}),Object(c.jsx)("p",{children:e.nombre}),Object(c.jsx)("p",{style:j,children:"Fecha de Nacimiento:"}),Object(c.jsx)("p",{children:e.fechaNacimiento}),Object(c.jsx)("p",{style:j,children:"Sexo:"}),Object(c.jsx)("p",{children:e.sexo}),Object(c.jsx)("p",{style:j,children:"Domicilio:"}),Object(c.jsx)("p",{children:e.domicilio}),Object(c.jsx)("p",{style:j,children:"Clave de Elector:"}),Object(c.jsx)("p",{children:e.claveElector}),Object(c.jsx)("p",{style:j,children:"CURP: "}),Object(c.jsx)("p",{children:e.curp}),Object(c.jsx)("p",{style:j,children:"Estado: "}),Object(c.jsx)("p",{children:e.estado}),Object(c.jsx)("p",{style:j,children:"Localidad: "}),Object(c.jsx)("p",{children:e.localidad}),Object(c.jsx)("p",{style:j,children:"Municipio: "}),Object(c.jsx)("p",{children:e.municipio}),Object(c.jsx)("p",{style:j,children:"A\xf1o de Emisi\xf3n: "}),Object(c.jsx)("p",{children:e.emision}),Object(c.jsx)("p",{style:j,children:"Seccion: "}),Object(c.jsx)("p",{children:e.seccion}),Object(c.jsx)("p",{style:j,children:"A\xf1o de Registro: "}),Object(c.jsx)("p",{children:e.Registro}),Object(c.jsx)("p",{style:j,children:"Vigencia: "}),Object(c.jsx)("p",{children:e.vigencia}),Object(c.jsx)("p",{style:j,children:"Digitador: "}),Object(c.jsx)("p",{children:e.digitador}),Object(c.jsx)("p",{style:j,children:"\xbfQu\xe9 quieres para ti?"}),Object(c.jsx)("p",{children:e.preguntaUno}),Object(c.jsx)("p",{style:j,children:"\xbfQu\xe9 quieres para tu colonia?"}),Object(c.jsx)("p",{children:e.preguntaDos}),Object(c.jsx)("p",{style:j,children:"\xbfQu\xe9 quieres para tu pueblo o ciudad?"}),Object(c.jsx)("p",{children:e.preguntaTres}),Object(c.jsx)("p",{style:j,children:"Voto: "}),Object(c.jsx)("p",{children:e.voto}),Object(c.jsx)("center",{children:Object(c.jsxs)("div",{className:"btn-group ",children:[Object(c.jsx)("button",{title:"Editar",type:"button",className:"btn btn-warning",onClick:function(t){return u(e)},children:Object(c.jsx)("i",{className:"far fa-edit"})}),"Candidato"===s.rol||"Administrador"===s.rol?Object(c.jsx)(c.Fragment,{children:Object(c.jsx)("button",{title:"Eliminar",type:"button",className:"btn btn-danger",onClick:function(t){return a(e.id)},children:Object(c.jsx)("i",{className:"far fa-trash-alt"})})}):Object(c.jsx)(c.Fragment,{})]})})]})},e.id)}))},V=function(e){for(var t=e.postsPerPage,a=e.totalPosts,n=e.paginate,r=[],o=1;o<=Math.ceil(a/t);o++)r.push(o);return Object(c.jsx)("nav",{children:Object(c.jsx)("ul",{className:"pagination",children:r.map((function(e){return Object(c.jsx)("li",{className:"page-item",children:Object(c.jsx)("button",{type:"button",className:"btn btn-outline-primary",onClick:function(){return n(e)},children:e})},e)}))})})},_=function(e){var t=e.votante,a=e.setFiltro,r=Object(n.useState)(""),o=Object(d.a)(r,2),s=o[0],i=o[1];return Object(n.useEffect)((function(){!function(){var e=t.filter((function(e){var t=!1;return Object.values(e).forEach((function(e){String(e).indexOf(s)>-1&&(t=!0)})),!!t&&e}));a(e)}()}),[t,s,a]),Object(c.jsx)("input",{type:"text",className:"form-control",placeholder:"Buscar",value:s,onChange:function(e){var t=e.target.value;i(t)}})},L=a(97),B=a.n(L),Q=function(e){var t=e.filtro,a=B.a.ExcelFile,n=B.a.ExcelFile.ExcelSheet,r=B.a.ExcelFile.ExcelColumn;return Object(c.jsx)(c.Fragment,{children:Object(c.jsx)(a,{element:Object(c.jsx)("button",{title:"Reporte de Excel",type:"button",className:"btn btn-success",children:Object(c.jsx)("i",{className:"fas fa-file-excel"})}),filename:"Reporte Electores",children:Object(c.jsxs)(n,{data:t,name:"Electores Registrados",children:[Object(c.jsx)(r,{label:"Nombre",value:"nombre"}),Object(c.jsx)(r,{label:"Domicilio",value:"domicilio"}),Object(c.jsx)(r,{label:"Sexo",value:"sexo"}),Object(c.jsx)(r,{label:"Fecha de Nacimiento",value:"fechaNacimiento"}),Object(c.jsx)(r,{label:"Clave de Elector",value:"claveElector"}),Object(c.jsx)(r,{label:"Registro",value:"Registro"}),Object(c.jsx)(r,{label:"CURP",value:"curp"}),Object(c.jsx)(r,{label:"Estado",value:"estado"}),Object(c.jsx)(r,{label:"Localidad",value:"localidad"}),Object(c.jsx)(r,{label:"Municipio",value:"municipio"}),Object(c.jsx)(r,{label:"Seccion",value:"seccion"}),Object(c.jsx)(r,{label:"Fecha de Emisi\xf3n",value:"emision"}),Object(c.jsx)(r,{label:"Vigencia",value:"vigencia"}),Object(c.jsx)(r,{label:"\xbfQu\xe9 quieres para ti?",value:"preguntaUno"}),Object(c.jsx)(r,{label:"\xbfQu\xe9 quieres para tu colonia?",value:"preguntaDos"}),Object(c.jsx)(r,{label:"\xbfQu\xe9 quieres para tu pueblo o ciudad?",value:"preguntaTres"}),Object(c.jsx)(r,{label:"Voto",value:"voto"}),Object(c.jsx)(r,{label:"Digitador",value:"digitador"})]})})})},H=a(138),z=a(30),G=a(430),J=a(438),Y=a(431),K=a(432),W=a(433),X=a(434),Z=a(435),$=a(436),ee=function(e){var t=e.votante,a=e.setFiltro,r=Object(n.useState)(!1),o=Object(d.a)(r,2),s=o[0],i=o[1],l=Object(n.useState)({sexo:"",seccion:"",municipio:"",estado:"",digitador:""}),j=Object(d.a)(l,2),u=j[0],b=j[1],m=function(e){var t=e.target,a=t.name,c=t.value;b(Object(k.a)(Object(k.a)({},u),{},Object(C.a)({},a,c)))},p=new Set,x=new Set,O=new Set,h=new Set;t.forEach((function(e){p.add(e.seccion),x.add(e.municipio),O.add(e.estado),h.add(e.digitador)}));var v=Object(z.a)(p),f=Object(z.a)(x),g=Object(z.a)(O),N=Object(z.a)(h),w=function(){i(!s)};return Object(c.jsxs)(c.Fragment,{children:[Object(c.jsx)(G.a,{title:"Filtrar",color:"primary ms-1",onClick:function(){return w()},children:Object(c.jsx)("i",{className:"fas fa-filter"})}),Object(c.jsxs)(J.a,{isOpen:s,style:{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:"50%"},children:[Object(c.jsx)(Y.a,{children:"Filtrar"}),Object(c.jsxs)(K.a,{children:[Object(c.jsxs)(W.a,{children:[Object(c.jsx)(X.a,{for:"exampleSelect",children:"Sexo"}),Object(c.jsxs)(Z.a,{type:"select",id:"exampleSelect",name:"sexo",value:u.sexo,onChange:m,children:[Object(c.jsx)("option",{hidden:!0,value:"",children:"Sexo"}),Object(c.jsx)("option",{children:"Masculino"}),Object(c.jsx)("option",{children:"Femenino"})]})]}),Object(c.jsxs)(W.a,{children:[Object(c.jsx)(X.a,{for:"exampleSelect",children:"Secci\xf3n"}),Object(c.jsxs)(Z.a,{type:"select",id:"exampleSelect",name:"seccion",value:u.seccion,onChange:m,children:[Object(c.jsx)("option",{hidden:!0,value:"",children:"Secci\xf3n"}),v.map((function(e,t){return Object(c.jsx)("option",{value:e,children:e},t)}))]})]}),Object(c.jsxs)(W.a,{children:[Object(c.jsx)(X.a,{for:"exampleSelect",children:"Municipio"}),Object(c.jsxs)(Z.a,{type:"select",id:"exampleSelect",name:"municipio",value:u.municipio,onChange:m,children:[Object(c.jsx)("option",{hidden:!0,value:"",children:"Municipios"}),f.map((function(e,t){return Object(c.jsx)("option",{value:e,children:e},t)}))]})]}),Object(c.jsxs)(W.a,{children:[Object(c.jsx)(X.a,{for:"exampleSelect",children:"Estado"}),Object(c.jsxs)(Z.a,{type:"select",id:"exampleSelect",name:"estado",value:u.estado,onChange:m,children:[Object(c.jsx)("option",{hidden:!0,value:"",children:"Estados"}),g.map((function(e,t){return Object(c.jsx)("option",{value:e,children:e},t)}))]})]}),Object(c.jsxs)(W.a,{children:[Object(c.jsx)(X.a,{for:"exampleSelect",children:"Digitador"}),Object(c.jsxs)(Z.a,{type:"select",id:"exampleSelect",name:"digitador",value:u.digitador,onChange:m,children:[Object(c.jsx)("option",{hidden:!0,value:"",children:"Digitadores"}),N.map((function(e,t){return Object(c.jsx)("option",{value:e,children:e},t)}))]})]})]}),Object(c.jsxs)($.a,{children:[Object(c.jsx)(G.a,{title:"Cerrar",color:"secondary ms-1",onClick:function(){return w()},children:"Cerrar"}),Object(c.jsxs)(G.a,{title:"Filtrar",color:"primary ms-1",onClick:function(){var e=Object(z.a)(t);if(""===u.estado)console.log("campo estado vacio");else{var c=t.filter((function(e){return e.estado===u.estado}));e=Object(z.a)(c)}if(""===u.municipio)console.log("campo municipio vacio");else{var n=e.filter((function(e){return e.municipio===u.municipio}));e=Object(z.a)(n)}if(""===u.seccion)console.log("campo seccion vacio");else{var r=e.filter((function(e){return e.seccion===u.seccion}));e=Object(z.a)(r)}if(""===u.sexo)console.log("campo sexo vacio");else{var o=e.filter((function(e){return e.sexo===u.sexo}));e=Object(z.a)(o)}if(""===u.digitador)console.log("campo digitador vacio");else{var l=e.filter((function(e){return e.digitador===u.digitador}));e=Object(z.a)(l)}a(e),b({sexo:"",seccion:"",municipio:"",estado:"",digitador:""}),i(!s)},children:[Object(c.jsx)("i",{className:"fas fa-filter"}),"Aplicar"]})]})]})]})},te=function(){var e=Object(y.g)(),t=P("(min-width: 600px)"),a=Object(n.useContext)(m).auth,r=Object(n.useContext)(g).registrarElector,o=Object(n.useContext)(v).socket,s=Object(n.useState)([]),j=Object(d.a)(s,2),u=j[0],p=j[1],x=Object(n.useState)([]),O=Object(d.a)(x,2),h=O[0],f=O[1],N=Object(n.useState)(1),w=Object(d.a)(N,2),E=w[0],C=w[1],k=Object(n.useState)(4),S=Object(d.a)(k,1)[0],T=Object(n.useState)("Tabla"),F=Object(d.a)(T,2),D=F[0],A=F[1],q=Object(n.useState)([]),U=Object(d.a)(q,2),L=U[0],B=U[1],z=function(){var e=Object(l.a)(i.a.mark((function e(){var t,c;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=[],"Administrador"!==a.rol){e.next=9;break}return e.t0=Object,e.next=5,b("votantes/todos/votantes");case 5:e.t1=e.sent,t=e.t0.values.call(e.t0,e.t1),e.next=14;break;case 9:return e.t2=Object,e.next=12,b("votantes/".concat(a.uid));case 12:e.t3=e.sent,t=e.t2.values.call(e.t2,e.t3);case 14:(c=t.map((function(e){return{id:e._id,nombre:e.nombre,domicilio:e.domicilio,sexo:e.sexo,fechaNacimiento:e.fechaNacimiento,claveElector:e.claveElector,Registro:e.Registro,curp:e.curp,estado:e.estado,localidad:e.localidad,municipio:e.municipio,seccion:e.seccion,emision:e.emision,vigencia:e.vigencia,digitador:e.digitador,preguntaUno:e.preguntaUno,preguntaDos:e.preguntaDos,preguntaTres:e.preguntaTres,voto:e.voto}}))).forEach((function(e){L.forEach((function(t){e.digitador==t.uid&&(e.digitador=t.nombre)}))})),f(c);case 17:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();Object(n.useEffect)((function(){(function(){var e=Object(l.a)(i.a.mark((function e(){var t,c;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=[],"Administrador"!==a.rol){e.next=9;break}return e.t0=Object,e.next=5,b("votantes/todos/votantes");case 5:e.t1=e.sent,t=e.t0.values.call(e.t0,e.t1),e.next=14;break;case 9:return e.t2=Object,e.next=12,b("votantes/".concat(a.uid));case 12:e.t3=e.sent,t=e.t2.values.call(e.t2,e.t3);case 14:(c=t.map((function(e){return{id:e._id,nombre:e.nombre,domicilio:e.domicilio,sexo:e.sexo,fechaNacimiento:e.fechaNacimiento,claveElector:e.claveElector,Registro:e.Registro,curp:e.curp,estado:e.estado,localidad:e.localidad,municipio:e.municipio,seccion:e.seccion,emision:e.emision,vigencia:e.vigencia,digitador:e.digitador,preguntaUno:e.preguntaUno,preguntaDos:e.preguntaDos,preguntaTres:e.preguntaTres,voto:e.voto}}))).forEach((function(e){L.forEach((function(t){e.digitador==t.uid&&(e.digitador=t.nombre)}))})),f(c);case 17:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[a,L]),Object(n.useEffect)((function(){(function(){var e=Object(l.a)(i.a.mark((function e(){var t;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=Object,e.next=3,b("usuarios/todoslos/usuarios");case 3:e.t1=e.sent,t=e.t0.values.call(e.t0,e.t1),B(t);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[]);var G=E*S,J=G-S,Y=u.slice(J,G),K=function(e){return C(e)},W=function(){var t=Object(l.a)(i.a.mark((function t(a){return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,r(a);case 2:e.push("/Edit");case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),X=function(){var e=Object(l.a)(i.a.mark((function e(t){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return R.a.fire({position:"center",icon:"error",title:"Registro eliminado",showConfirmButton:!1,timer:1500}),e.next=3,o.emit("Eliminar",t);case 3:return e.next=5,z();case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Z=[{name:"Nombre",selector:"nombre",sortable:!0},{name:"Domicilio",selector:"domicilio",sortable:!0},{name:"Sexo",selector:"sexo",sortable:!0},{name:"Secci\xf3n",selector:"seccion",sortable:!0},{name:"Municipio",selector:"municipio",sortable:!0},{name:"Fecha de Nacimiento",selector:"fechaNacimiento",sortable:!0},{name:"Clave de Elector",selector:"claveElector",sortable:!0},{name:"Digitador",selector:"digitador",sortable:!0},{name:"Botones",sortable:!0,cell:function(e){return Object(c.jsxs)("div",{className:"btn-group ",children:[Object(c.jsx)("button",{title:"Editar",type:"button",className:"btn btn-warning",onClick:function(){return W(e)},children:Object(c.jsx)("i",{className:"far fa-edit"})}),"Candidato"===a.rol||"Administrador"===a.rol?Object(c.jsx)(c.Fragment,{children:Object(c.jsx)("button",{title:"Eliminar",type:"button",className:"btn btn-danger ",onClick:function(){return X(e.id)},children:Object(c.jsx)("i",{className:"far fa-trash-alt"})})}):Object(c.jsx)(c.Fragment,{})]})}}],$=function(){var e;A("Tabla"===D?"Tarjeta":"Tabla"),e="scrollAnimated",H.animateScroll.scrollToBottom({containerId:e,duration:350})};return Object(c.jsx)("div",{id:"Tabla",className:"me-5 ms-5 mb-5 mt-2",children:t?"Tabla"===D?Object(c.jsxs)(c.Fragment,{children:[Object(c.jsxs)("div",{className:"row g-3 mb-1",children:[Object(c.jsx)("div",{className:"col-3",children:Object(c.jsx)("h3",{children:"Electores Registrados"})}),Object(c.jsxs)("div",{className:"col-6",children:["Candidato"===a.rol||"Administrador"===a.rol?Object(c.jsx)(c.Fragment,{children:Object(c.jsx)(Q,{filtro:u})}):Object(c.jsx)(c.Fragment,{}),Object(c.jsx)("button",{title:"Cambiar Vista",className:"btn btn-primary ms-1",type:"button",onClick:$,children:Object(c.jsx)("i",{className:"far fa-eye"})}),Object(c.jsx)(ee,{votante:h,setFiltro:p}),Object(c.jsx)("button",{title:"Actualizar tabla",className:"btn btn-primary ms-1",type:"button",onClick:z,children:Object(c.jsx)("i",{className:"fas fa-sync"})})]}),Object(c.jsx)("div",{className:"col-3",children:Object(c.jsx)(_,{votante:h,setFiltro:p})})]}),Object(c.jsx)(M.a,{columns:Z,data:u,noHeader:!0,pagination:!0,paginationComponentOptions:{rowsPerPageText:"Filas por P\xe1gina",rangeSeparatorText:"de",selectAllRowsItem:!0,selectAllRowsItemText:"Todos"},paginationPerPage:5,paginationRowsPerPageOptions:[5,10,15,20,25,30],striped:!0,highlightOnHover:!0,responsive:!0})]}):Object(c.jsxs)(c.Fragment,{children:[Object(c.jsx)("center",{children:Object(c.jsx)("h2",{children:"Electores Registrados"})}),Object(c.jsx)("br",{}),Object(c.jsxs)("div",{className:"row g-3 mb-1",children:[Object(c.jsx)("div",{className:"col-4"}),Object(c.jsxs)("div",{className:"col-4",children:[Object(c.jsx)(_,{votante:h,setFiltro:p}),Object(c.jsx)("hr",{}),Object(c.jsxs)("center",{className:"mb-1",children:["Candidato"===a.rol||"Administrador"===a.rol?Object(c.jsx)(c.Fragment,{children:Object(c.jsx)(Q,{filtro:u})}):Object(c.jsx)(c.Fragment,{}),Object(c.jsx)("button",{title:"Cambiar vista",className:"btn btn-primary ms-1 ",type:"button",onClick:$,children:Object(c.jsx)("i",{className:"far fa-eye"})}),Object(c.jsx)(ee,{votante:h,setFiltro:p}),Object(c.jsx)("button",{title:"Actualizar tabla",className:"btn btn-primary ms-1",type:"button",onClick:z,children:Object(c.jsx)("i",{className:"fas fa-sync"})})]}),Object(c.jsx)(V,{postsPerPage:S,totalPosts:u.length,paginate:K})]}),Object(c.jsx)("div",{className:"col-4"})]}),Object(c.jsx)("hr",{}),Object(c.jsx)("div",{className:"row  mb-1",id:"scrollAnimated",children:Object(c.jsx)("div",{className:"d-flex",children:Object(c.jsx)(I,{filtroVotante:Y,Eliminar:X})})})]}):Object(c.jsxs)(c.Fragment,{children:[Object(c.jsx)("center",{children:Object(c.jsx)("h5",{children:"Electores Registrados"})}),Object(c.jsx)("br",{}),Object(c.jsxs)("div",{className:"row g-3 mb-1",children:[Object(c.jsx)("div",{className:"col-2"}),Object(c.jsxs)("div",{className:"col-8",children:[Object(c.jsx)(_,{votante:h,setFiltro:p}),Object(c.jsx)("hr",{}),Object(c.jsxs)("center",{className:"mb-3",children:["Candidato"===a.rol||"Administrador"===a.rol?Object(c.jsx)(c.Fragment,{children:Object(c.jsx)(Q,{filtro:u})}):Object(c.jsx)(c.Fragment,{}),Object(c.jsx)(ee,{votante:h,setFiltro:p}),Object(c.jsx)("button",{title:"Actualizar tabla",className:"btn btn-primary ms-1",type:"button",onClick:z,children:Object(c.jsx)("i",{className:"fas fa-sync"})})]}),Object(c.jsx)(V,{postsPerPage:S,totalPosts:u.length,paginate:K})]}),Object(c.jsx)("div",{className:"col-2"})]}),Object(c.jsx)("hr",{}),Object(c.jsx)(I,{filtroVotante:Y,Eliminar:X})]})})},ae=function(){return Object(c.jsxs)(c.Fragment,{children:[Object(c.jsx)(D,{}),Object(c.jsx)(q,{}),Object(c.jsx)(te,{})]})},ce=a(238),ne=a.n(ce),re=a(239),oe=(a(418),a(139)),se=a(240),ie=function(e,t,a){var c=Object(se.a)(e,t,new Date,{locale:a});if(re.DateUtils.isDate(c))return c},le=function(e,t,a){return Object(oe.a)(e,t,{locale:a})};function de(e){var t=e.setVotante,a=e.votante,n="dd/MM/yyyy";return Object(c.jsx)(ne.a,{inputProps:{style:{width:"170%"}},formatDate:le,format:n,parseDate:ie,onDayChange:function(e){if(void 0!==e){var c=e.toLocaleDateString();t(Object(k.a)(Object(k.a)({},a),{},{fechaNacimiento:c}))}},placeholder:"".concat(Object(oe.a)(new Date,n))})}var je=function(){var e=Object(n.useContext)(m).auth,t=Object(n.useContext)(v),a=t.socket,r=t.votanteEditado,o=Object(n.useState)({nombre:"",domicilio:"",sexo:"",fechaNacimiento:"",claveElector:"",Registro:"",curp:"",estado:"",localidad:"",municipio:"",seccion:"",emision:"",vigencia:"",digitador:"",candidato:"",preguntaUno:"",preguntaDos:"",preguntaTres:"",voto:""}),s=Object(d.a)(o,2),i=s[0],l=s[1],j=function(e){var t=e.target,a=t.name,c=t.value;l(Object(k.a)(Object(k.a)({},i),{},Object(C.a)({},a,c)))},u=function(){return i.nombre.length>0&&i.domicilio.length>0&&i.fechaNacimiento.length>0&&i.sexo.length>0&&i.claveElector.length>0&&i.Registro.length>0&&i.curp.length>0&&i.estado.length>0&&i.municipio.length>0&&i.localidad.length>0&&i.seccion.length>0&&i.emision.length>0&&i.vigencia.length>0&&i.preguntaUno.length>0&&i.preguntaDos.length>0&&i.preguntaTres.length>0&&i.voto.length>0};return Object(c.jsxs)("div",{className:"container",children:[Object(c.jsx)("div",{className:"py-5 text-center",children:Object(c.jsx)("h2",{children:"Registro de Electores"})}),Object(c.jsxs)("div",{className:"row",children:[Object(c.jsx)("div",{className:"col-md-12 col-lg-2 p-3"}),Object(c.jsx)("div",{className:"col-md-12 col-lg-8 p-3",children:Object(c.jsx)("form",{onSubmit:function(t){t.preventDefault(),a.emit("Datos-Votante",{nombre:i.nombre,domicilio:i.domicilio,sexo:i.sexo,fechaNacimiento:i.fechaNacimiento,claveElector:i.claveElector,Registro:i.Registro,curp:i.curp,estado:i.estado,localidad:i.localidad,municipio:i.municipio,seccion:i.seccion,emision:i.emision,vigencia:i.vigencia,digitador:e.uid,candidato:e.vinculo,preguntaUno:i.preguntaUno,preguntaDos:i.preguntaDos,preguntaTres:i.preguntaTres,voto:i.voto}),!1===r?R.a.fire("Error","Debe llear todos los campos correctamente, si el problema continua comuniquese con el administrador","error"):R.a.fire({position:"center",icon:"success",title:"Registrado",showConfirmButton:!1,timer:1500}),l({nombre:"",domicilio:"",sexo:"",fechaNacimiento:"",claveElector:"",Registro:"",curp:"",estado:"",localidad:"",municipio:"",seccion:"",emision:"",vigencia:"",preguntaUno:"",preguntaDos:"",preguntaTres:"",voto:""})},className:"needs-validation",children:Object(c.jsxs)("div",{className:"row g-3",children:[Object(c.jsxs)("div",{className:"col-sm-6",children:[Object(c.jsx)("label",{className:"form-label",children:"Fecha de Nacimiento"}),Object(c.jsx)("div",{className:"border border-2 p-2 rounded-3",children:Object(c.jsx)(de,{setVotante:l,votante:i})})]}),Object(c.jsxs)("div",{className:"col-sm-6",children:[Object(c.jsx)("label",{className:"form-label",children:"Sexo"}),Object(c.jsxs)("select",{border:"none",type:"select",className:"form-control border border-2 p-2 rounded-3",name:"sexo",placeholder:"Femenino - Masculino",value:i.sexo,onChange:j,required:!0,children:[Object(c.jsx)("option",{hidden:!0,value:"",children:"Sexo"}),Object(c.jsx)("option",{value:"Masculino",children:"Masculino"}),Object(c.jsx)("option",{value:"Femenino",children:"Femenino"})]})]}),Object(c.jsxs)("div",{className:"col-sm-6",children:[Object(c.jsx)("label",{className:"form-label",children:"Nombre"}),Object(c.jsx)("input",{type:"text",className:"form-control border border-2 p-2 rounded-3",name:"nombre",placeholder:"",required:!0,value:i.nombre,onChange:j})]}),Object(c.jsxs)("div",{className:"col-sm-6",children:[Object(c.jsx)("label",{className:"form-label",children:"Domicilio"}),Object(c.jsx)("input",{type:"text",className:"form-control border border-2 p-2 rounded-3",name:"domicilio",placeholder:" C. Hidalgo Norte ...",required:!0,value:i.domicilio,onChange:j})]}),Object(c.jsxs)("div",{className:"col-sm-6",children:[Object(c.jsx)("label",{className:"form-label",children:"Clave de Elector"}),Object(c.jsx)("input",{type:"text",className:"form-control border border-2 p-2 rounded-3",name:"claveElector",placeholder:"",required:!0,value:i.claveElector,onChange:j})]}),Object(c.jsxs)("div",{className:"col-sm-6",children:[Object(c.jsx)("label",{className:"form-label",children:"A\xf1o de Registro"}),Object(c.jsx)("input",{pattern:"[0-9]+",type:"text",className:"form-control border border-2 p-2 rounded-3",name:"Registro",placeholder:"Ej. 2020",required:!0,value:i.Registro,onChange:j})]}),Object(c.jsxs)("div",{className:"col-sm-6",children:[Object(c.jsx)("label",{className:"form-label",children:"CURP"}),Object(c.jsx)("input",{type:"text",className:"form-control border border-2 p-2 rounded-3",name:"curp",placeholder:"",required:!0,value:i.curp,onChange:j})]}),Object(c.jsxs)("div",{className:"col-sm-6",children:[Object(c.jsx)("label",{className:"form-label",children:"Estado"}),Object(c.jsx)("input",{type:"text",className:"form-control border border-2 p-2 rounded-3",name:"estado",placeholder:"Ej. 21",required:!0,value:i.estado,onChange:j})]}),Object(c.jsxs)("div",{className:"col-sm-6",children:[Object(c.jsx)("label",{className:"form-label",children:"Municipio"}),Object(c.jsx)("input",{type:"text",className:"form-control border border-2 p-2 rounded-3",name:"municipio",placeholder:"Ej. 010",required:!0,value:i.municipio,onChange:j})]}),Object(c.jsxs)("div",{className:"col-sm-6",children:[Object(c.jsx)("label",{className:"form-label",children:"Localidad"}),Object(c.jsx)("input",{type:"text",className:"form-control border border-2 p-2 rounded-3",name:"localidad",placeholder:"Ej. 0001",required:!0,value:i.localidad,onChange:j})]}),Object(c.jsxs)("div",{className:"col-sm-6",children:[Object(c.jsx)("label",{className:"form-label",children:"Seccion"}),Object(c.jsx)("input",{type:"text",className:"form-control border border-2 p-2 rounded-3",name:"seccion",placeholder:"Ej. 0081",required:!0,value:i.seccion,onChange:j})]}),Object(c.jsxs)("div",{className:"col-sm-6",children:[Object(c.jsx)("label",{className:"form-label",children:"Emisi\xf3n"}),Object(c.jsx)("input",{pattern:"[0-9]+",type:"text",className:"form-control border border-2 p-2 rounded-3",name:"emision",placeholder:"Ej. 2020",required:!0,value:i.emision,onChange:j})]}),Object(c.jsxs)("div",{className:"col-sm-6",children:[Object(c.jsx)("label",{className:"form-label",children:"Vigencia"}),Object(c.jsx)("input",{type:"text",pattern:"[0-9]+",className:"form-control border border-2 p-2 rounded-3",name:"vigencia",placeholder:"Ej. 2024",required:!0,value:i.vigencia,onChange:j})]}),Object(c.jsx)("hr",{className:"my-4"}),Object(c.jsx)("h3",{children:"Encuesta"}),Object(c.jsxs)("div",{className:"col-sm-12",children:[Object(c.jsx)("label",{className:"form-label",children:"\xbfQu\xe9 quieres para ti?"}),Object(c.jsx)("textarea",{className:"form-control border border-2 p-2 rounded-3",name:"preguntaUno",required:!0,value:i.preguntaUno,onChange:j})]}),Object(c.jsxs)("div",{className:"col-sm-12",children:[Object(c.jsx)("label",{className:"form-label",children:"\xbfQu\xe9 quieres para tu colonia?"}),Object(c.jsx)("textarea",{className:"form-control border border-2 p-2 rounded-3",name:"preguntaDos",required:!0,value:i.preguntaDos,onChange:j})]}),Object(c.jsxs)("div",{className:"col-sm-12",children:[Object(c.jsx)("label",{className:"form-label",children:"\xbfQu\xe9 quieres para tu pueblo o ciudad?"}),Object(c.jsx)("textarea",{className:"form-control border border-2 p-2 rounded-3",name:"preguntaTres",required:!0,value:i.preguntaTres,onChange:j})]}),Object(c.jsxs)("div",{className:"col-sm-3 col-3",children:[Object(c.jsx)("label",{className:"form-label",children:"Voto:"}),Object(c.jsxs)("select",{border:"none",type:"select",className:"form-control border border-2 p-2 rounded-3",name:"voto",placeholder:"Femenino - Masculino",value:i.voto,onChange:j,required:!0,children:[Object(c.jsx)("option",{hidden:!0,value:"",children:"si o no"}),Object(c.jsx)("option",{value:"Si",children:"Si"}),Object(c.jsx)("option",{value:"No",children:"No"})]})]}),Object(c.jsx)("hr",{className:"my-4"}),Object(c.jsxs)(T.a,{color:"warning",hidden:u(),children:[Object(c.jsx)("i",{className:"fas fa-exclamation-triangle"})," Importante: No debe dejar ning\xfan campo vac\xedo o incorrecto."]}),Object(c.jsx)("button",{className:"w-100 btn btn-outline-success btn-lg",type:"submit",disabled:!u(),children:"Guardar"})]})})}),Object(c.jsx)("div",{className:"col-md-12 col-lg-2 p-3"})]})]})},ue=function(){return Object(c.jsxs)("div",{children:[Object(c.jsx)(D,{}),Object(c.jsx)(je,{})]})},be=function(){var e=Object(n.useContext)(m),t=e.EditarSinEncriptar,a=e.EditarYEncriptar,r=Object(n.useState)([]),o=Object(d.a)(r,2),s=o[0],j=o[1],u=Object(n.useState)([]),p=Object(d.a)(u,2),x=p[0],O=p[1],h=Object(n.useState)({email:"",nombre:""}),v=Object(d.a)(h,2),f=v[0],g=v[1],N=Object(n.useState)({email:"",nombre:"",rol:"",uid:"",vinculo:"",password:""}),w=Object(d.a)(N,2),E=w[0],y=w[1],S=function(e){var t=e.target,a=t.name,c=t.value;y(Object(k.a)(Object(k.a)({},E),{},Object(C.a)({},a,c)))};Object(n.useEffect)((function(){(function(){var e=Object(l.a)(i.a.mark((function e(){var t;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=Object,e.next=3,b("usuarios/todoslos/usuarios");case 3:e.t1=e.sent,t=e.t0.values.call(e.t0,e.t1),O(t);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[f]);var T=function(){var e=Object(l.a)(i.a.mark((function e(t){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:g({email:t.email,password:t.password}),y(t);case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),F=function(){var e=Object(l.a)(i.a.mark((function e(){var c,n,r,o,s,l,d,j,u,b,m,p,x,O,h,v,N,w,C,k,S;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(E.password===f.password||E.email===f.email){e.next=10;break}return c=E.email,n=E.password,r=E.nombre,o=E.rol,s=E.vinculo,l=E.uid,e.next=4,a(c,n,r,o,s,l);case 4:d=e.sent,g({email:"",password:""}),y({email:"",nombre:"",rol:"",uid:"",vinculo:"",password:""}),d?R.a.fire({position:"center",icon:"success",title:"Email y password cambiados",showConfirmButton:!0,timer:1500}):R.a.fire("Error","Intentelo de nuevo, si el problema continua comun\xedquese con el desarrollador","error"),e.next=31;break;case 10:if(E.password===f.password){e.next=20;break}return j=E.email,u=E.password,b=E.nombre,m=E.rol,p=E.vinculo,x=E.uid,e.next=14,a(j,u,b,m,p,x);case 14:O=e.sent,g({email:"",password:""}),y({email:"",nombre:"",rol:"",uid:"",vinculo:"",password:""}),O?R.a.fire({position:"center",icon:"success",title:"Password cambiado",showConfirmButton:!0,timer:1500}):R.a.fire("Error","Intentelo de nuevo, si el problema continua comun\xedquese con el desarrollador","error"),e.next=31;break;case 20:if(E.email===f.email){e.next=30;break}return h=E.email,v=E.password,N=E.nombre,w=E.rol,C=E.vinculo,k=E.uid,e.next=24,t(h,v,N,w,C,k);case 24:S=e.sent,g({email:"",password:""}),y({email:"",nombre:"",online:"",rol:"",uid:"",vinculo:"",password:""}),S?R.a.fire({position:"center",icon:"success",title:"Email cambiado",showConfirmButton:!0,timer:1500}):R.a.fire("Error","El email debe terminar en .com, intentelo de nuevo, si el problema continua comuniquese con el desarrollador","error"),e.next=31;break;case 30:R.a.fire({icon:"error",title:"Oops...",text:"No se ha detectado ningun cambio"});case 31:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),A=[{name:"Botones",sortable:!0,cell:function(e){return Object(c.jsx)("div",{className:"btn-group-vertical ",children:Object(c.jsx)("button",{title:"Editar",type:"button",className:"btn btn-warning mt-1",onClick:function(t){return T(e)},children:Object(c.jsx)("i",{className:"far fa-edit"})})})}},{name:"Nombre",selector:"nombre",sortable:!0},{name:"Email",selector:"email",sortable:!0},{name:"Contrase\xf1a",sortable:!0,cell:function(){return"****************"}}];return Object(c.jsxs)("div",{children:[Object(c.jsx)(D,{}),Object(c.jsxs)("div",{className:"row width-100",children:[Object(c.jsx)("div",{className:"col-sm-4 col-1 "}),Object(c.jsxs)("div",{className:"col-sm-4 col-10 mt-5 border-bottom",children:[Object(c.jsx)("center",{children:Object(c.jsx)("h3",{children:"Editar Usuario"})}),Object(c.jsx)("hr",{}),Object(c.jsxs)("div",{className:"wrap-input100 validate-input mb-3",children:[Object(c.jsx)("input",{className:"input100",type:"email",name:"email",placeholder:"Email",value:E.email,onChange:S}),Object(c.jsx)("span",{className:"focus-input100"})]}),Object(c.jsxs)("div",{className:"wrap-input100 validate-input mb-3",children:[Object(c.jsx)("input",{className:"input100",type:"password",name:"password",placeholder:"Password",value:E.password,onChange:S}),Object(c.jsx)("span",{className:"focus-input100"})]}),Object(c.jsxs)("center",{children:[" ",Object(c.jsx)("div",{className:"",children:Object(c.jsx)("button",{type:"submit",className:"btn btn-outline-primary mt-2 mb-3",disabled:!(E.email.length>0&&E.password.length>0&&E.nombre.length>0),onClick:function(){return F()},children:"Guardar Cambios"})})]})]}),Object(c.jsx)("div",{className:"col-sm-4 col-1"})]}),Object(c.jsxs)("div",{className:"row width-100 mt-5",children:[Object(c.jsx)("div",{className:"col-2"}),Object(c.jsx)("div",{className:"col-4",children:Object(c.jsx)("h3",{children:"Usuarios:"})}),Object(c.jsx)("div",{className:"col-4",children:Object(c.jsx)(_,{votante:x,setFiltro:j})}),Object(c.jsx)("div",{className:"col-2"})]}),Object(c.jsxs)("div",{className:"row width-100",children:[Object(c.jsx)("div",{className:"col-2"}),Object(c.jsx)("div",{className:"col-8 mt-1",children:Object(c.jsx)(M.a,{columns:A,data:s,noHeader:!0,pagination:!0,paginationComponentOptions:{rowsPerPageText:"Filas por P\xe1gina",rangeSeparatorText:"de",selectAllRowsItem:!0,selectAllRowsItemText:"Todos"},paginationPerPage:5,paginationRowsPerPageOptions:[5,10,15,20,25,30],striped:!0,highlightOnHover:!0,responsive:!0})}),Object(c.jsx)("div",{className:"col-2"})]})]})},me=a(46),pe=function(e){var t=e.rol,a=e.isAuthenticated,n=e.component,r=Object(me.a)(e,["rol","isAuthenticated","component"]);return Object(c.jsx)(y.b,Object(k.a)(Object(k.a)({},r),{},{component:function(e){return a&&"Administrador"===t?Object(c.jsx)(n,Object(k.a)({},e)):Object(c.jsx)(y.a,{to:"/"})}}))},xe=function(){var e=P("(min-width: 600px)"),t=Object(n.useContext)(m).login,a=Object(n.useState)(!0),r=Object(d.a)(a,2),o=r[0],s=r[1],j=Object(n.useState)({email:"",password:"",rememberme:!1}),u=Object(d.a)(j,2),b=u[0],p=u[1];document.body.style.overflow=o?"hidden":"visible",Object(n.useEffect)((function(){var e=localStorage.getItem("email");e&&p((function(t){return Object(k.a)(Object(k.a)({},t),{},{rememberme:!0,email:e})}))}),[]);var x=function(e){var t=e.target,a=t.name,c=t.value;p(Object(k.a)(Object(k.a)({},b),{},Object(C.a)({},a,c)))},O=function(){var e=Object(l.a)(i.a.mark((function e(a){var c,n;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a.preventDefault(),s(!1),b.rememberme?localStorage.setItem("email",b.email):localStorage.removeItem("email"),c=b.email,n=b.password,e.next=6,t(c,n);case 6:e.sent||(R.a.fire("Error","Verifique el usuario y contrase\xf1a","error"),s(!0));case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(c.jsxs)("div",{children:[Object(c.jsxs)("form",{className:"login100-form validate-form flex-sb flex-w",onSubmit:O,children:[Object(c.jsx)("span",{className:"login100-form-title mb-3",children:"Ingreso"}),Object(c.jsxs)("div",{className:"wrap-input100 validate-input mb-3",children:[Object(c.jsx)("input",{className:"input100",type:"email",name:"email",placeholder:"Email",value:b.email,onChange:x}),Object(c.jsx)("span",{className:"focus-input100"})]}),Object(c.jsxs)("div",{className:"wrap-input100 validate-input mb-3",children:[Object(c.jsx)("input",{className:"input100",type:"password",name:"password",placeholder:"Password",value:b.password,onChange:x}),Object(c.jsx)("span",{className:"focus-input100"})]}),Object(c.jsx)("div",{className:"row mb-3",children:Object(c.jsxs)("div",{className:"col",onClick:function(){p(Object(k.a)(Object(k.a)({},b),{},{rememberme:!b.rememberme}))},children:[Object(c.jsx)("input",{className:"input-checkbox100",id:"ckb1",type:"checkbox",name:"rememberme",checked:b.rememberme,readOnly:!0}),Object(c.jsx)("label",{className:"label-checkbox100",children:"Recordarme"})]})}),Object(c.jsx)("div",{className:"container-login100-form-btn m-t-17",children:Object(c.jsx)("button",{type:"submit",className:"login100-form-btn",disabled:!(b.email.length>0&&b.password.length>0),children:"Ingresar"})})]}),e?Object(c.jsx)("img",{src:"https://i.pinimg.com/originals/af/04/15/af04153316781107e138331c72ff7e7e.png",alt:"M\xe9xico",style:{position:"absolute",top:"30%",left:"70%",zIndex:"-1"}}):Object(c.jsx)(c.Fragment,{})]})},Oe=(a(419),function(){return Object(c.jsx)("div",{className:"limiter",children:Object(c.jsx)("div",{className:"container-login100",children:Object(c.jsx)("div",{className:"wrap-login100 p-t-50 p-b-90",children:Object(c.jsxs)(y.d,{children:[Object(c.jsx)(y.b,{exact:!0,path:"/auth/login",component:xe}),Object(c.jsx)(y.a,{to:"/auth/login"})]})})})})}),he=function(e){var t=e.rol,a=e.isAuthenticated,n=e.component,r=Object(me.a)(e,["rol","isAuthenticated","component"]);return Object(c.jsx)(y.b,Object(k.a)(Object(k.a)({},r),{},{component:function(e){return!a||"Administrador"!==t&&"Candidato"!==t?Object(c.jsx)(y.a,{to:"/"}):Object(c.jsx)(n,Object(k.a)({},e))}}))},ve=function(e){var t=e.isAuthenticated,a=e.component,n=Object(me.a)(e,["isAuthenticated","component"]);return Object(c.jsx)(y.b,Object(k.a)(Object(k.a)({},n),{},{component:function(e){return t?Object(c.jsx)(a,Object(k.a)({},e)):Object(c.jsx)(y.a,{to:"/auth"})}}))},fe=function(e){var t=e.isAuthenticated,a=e.component,n=Object(me.a)(e,["isAuthenticated","component"]);return Object(c.jsx)(y.b,Object(k.a)(Object(k.a)({},n),{},{component:function(e){return t?Object(c.jsx)(y.a,{to:"/"}):Object(c.jsx)(a,Object(k.a)({},e))}}))},ge=function(){var e=Object(n.useState)([]),t=Object(d.a)(e,2),a=t[0],r=t[1],o=Object(n.useContext)(m),s=o.register,j=o.auth,b=Object(n.useState)({nombre:"",password:"",rol:"",email:"",vinculo:""}),p=Object(d.a)(b,2),x=p[0],O=p[1],h=function(e){var t=e.target,a=t.name,c=t.value;O(Object(k.a)(Object(k.a)({},x),{},Object(C.a)({},a,c)))},v=function(){var e=Object(l.a)(i.a.mark((function e(t){var a,c,n,r,o;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),a=x.email,c=x.password,n=x.nombre,r=x.rol,o=x.vinculo,e.next=4,s(a,c,n,r,o);case 4:e.sent?R.a.fire({position:"center",icon:"success",title:"Registrado",showConfirmButton:!1,timer:1500}):R.a.fire("Error","Debe llear todos los campos correctamente","error");case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),f=function(){var e=Object(l.a)(i.a.mark((function e(){var t,a;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,u("usuarios/Candidato","","GET");case 2:t=e.sent,a=Object.values(t),r(a);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();Object(n.useEffect)((function(){f()}),[]);var g;return Object(c.jsxs)(c.Fragment,{children:[Object(c.jsx)(D,{}),Object(c.jsxs)("div",{className:"row width-100",children:[Object(c.jsx)("div",{className:"col-1 col-sm-4 mb-5"}),Object(c.jsx)("div",{className:"col-10 col-sm-4 mb-5",children:Object(c.jsxs)("form",{className:"login100-form validate-form flex-sb flex-w",onSubmit:v,children:[Object(c.jsx)("span",{className:"login100-form-title mb-3 mt-5",children:"Registrar Usuarios"}),Object(c.jsxs)("div",{className:"wrap-input100 validate-input mb-3",children:[Object(c.jsx)("input",{className:"input100",type:"text",name:"nombre",placeholder:"Nombre",value:x.nombre,onChange:h}),Object(c.jsx)("span",{className:"focus-input100"})]}),Object(c.jsxs)("div",{className:"wrap-input100 validate-input mb-3",children:[Object(c.jsx)("input",{className:"input100",type:"email",name:"email",placeholder:"Email",value:x.email,onChange:h}),Object(c.jsx)("span",{className:"focus-input100"})]}),Object(c.jsxs)("div",{className:"wrap-input100 validate-input mb-3",children:[Object(c.jsx)("input",{className:"input100",type:"password",name:"password",placeholder:"Password",value:x.password,onChange:h}),Object(c.jsx)("span",{className:"focus-input100"})]}),Object(c.jsxs)("div",{className:"wrap-input100 validate-input mb-3",children:[Object(c.jsxs)("select",{className:"input100",name:"rol",value:x.rol,onChange:h,children:[Object(c.jsx)("option",{hidden:!0,value:"",children:"Rol"}),"Administrador"===j.rol?Object(c.jsxs)(c.Fragment,{children:[Object(c.jsx)("option",{value:"Candidato",children:"Candidato"}),Object(c.jsx)("option",{value:"Administrador",children:"Administrador"})]}):Object(c.jsx)(c.Fragment,{}),Object(c.jsx)("option",{value:"Digitador",children:"Digitador"})]}),Object(c.jsx)("span",{className:"focus-input100"})]}),Object(c.jsxs)("div",{className:"wrap-input100 validate-input mb-3",children:[Object(c.jsxs)("select",{onClick:f,className:"input100",name:"vinculo",value:x.vinculo,onChange:h,children:[Object(c.jsx)("option",{hidden:!0,value:"",children:"V\xednculo"}),(g=x.rol,"Digitador"===g?"Administrador"===j.rol?a.map((function(e){return Object(c.jsx)("option",{value:e.uid,children:e.nombre},e.uid)})):Object(c.jsx)(c.Fragment,{children:Object(c.jsx)("option",{value:j.uid,children:j.name},j.uid)}):Object(c.jsx)("option",{value:"No-aplica",children:"No-aplica"}))]}),Object(c.jsx)("span",{className:"focus-input100"})]}),Object(c.jsx)("div",{className:"",children:Object(c.jsx)("button",{type:"submit",className:"login100-form-btn",disabled:!(x.email.length>0&&x.password.length>0&&x.nombre.length>0&&x.rol.length>0&&x.vinculo.length>0),children:"Crear cuenta"})})]})}),Object(c.jsx)("div",{className:"col-1 col-sm-4 mb-5"})]})]})},Ne=a(70),we=a.n(Ne),Ee=a(437);we.a.accessToken="pk.eyJ1IjoiY3Jpc3RwaGVycmV5ZXMiLCJhIjoiY2trYndiMXp2MDNvcTJ3cGk2dHhjd3Z6biJ9.JkrRc5g8_MhRw0P-_HIOKA";var ye={lng:-98.2,lat:19.023,zoom:10},Ce=function(){var e=function(e){var t=Object(n.useContext)(m).auth,a=Object(n.useContext)(v).socket,c=Object(n.useRef)(),r=Object(n.useCallback)((function(e){c.current=e}),[]),o=Object(n.useRef)({}),s=Object(n.useRef)(),d=Object(n.useCallback)((function(e){var c=e.lngLat,n=c.lng,r=c.lat,i=new we.a.Marker;i.id=Object(Ee.a)(),i.setLngLat([n,r]).addTo(s.current),o.current[i.id]=i,a.emit("marcador-nuevo",{idMarcador:i.id,longitud:n,latitud:r,usuario:t.uid,rol:t.rol})}),[t,a]);return Object(n.useEffect)((function(){var t=new we.a.Map({container:c.current,style:"mapbox://styles/mapbox/streets-v11",center:[e.lng,e.lat],zoom:e.zoom});s.current=t}),[e]),Object(n.useEffect)((function(){var e;null===(e=s.current)||void 0===e||e.on("click",d)}),[d]),Object(n.useEffect)((function(){!function(){var e=Object(l.a)(i.a.mark((function e(){var a;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=Object,e.next=3,b("marcadores/".concat(t.uid));case 3:if(e.t1=e.sent,a=e.t0.values.call(e.t0,e.t1),0!==Object.keys(a).length){e.next=9;break}return e.abrupt("return");case 9:a.forEach((function(e){(new we.a.Marker).setLngLat([e.longitud,e.latitud]).addTo(s.current)}));case 10:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()()}),[t]),{agregarMarcador:d,marcadores:o,setRef:r}}(ye).setRef;return Object(c.jsxs)(c.Fragment,{children:[Object(c.jsx)(D,{}),Object(c.jsx)("div",{ref:e,className:"mapContainer"})]})},ke=function(){var e=Object(n.useContext)(m),t=e.auth,a=e.verificaToken;return Object(n.useEffect)((function(){a()}),[a]),t.checking?Object(c.jsx)("h1",{children:"Espere por favor"}):Object(c.jsx)(E.a,{children:Object(c.jsx)("div",{children:Object(c.jsxs)(y.d,{children:[Object(c.jsx)(fe,{isAuthenticated:t.logged,path:"/auth",component:Oe}),Object(c.jsx)(ve,{isAuthenticated:t.logged,exact:!0,path:"/",component:ae}),Object(c.jsx)(ve,{isAuthenticated:t.logged,path:"/registroVotantes",component:ue}),Object(c.jsx)(ve,{isAuthenticated:t.logged,path:"/Edit",component:A}),Object(c.jsx)(pe,{isAuthenticated:t.logged,path:"/EditarUsuarios",component:be,rol:t.rol}),Object(c.jsx)(he,{isAuthenticated:t.logged,path:"/register",component:ge,rol:t.rol}),Object(c.jsx)(he,{isAuthenticated:t.logged,path:"/Mapa",component:Ce,rol:t.rol}),Object(c.jsx)(y.a,{to:"/"})]})})})},Se=function(){return Object(c.jsx)(x,{children:Object(c.jsx)(w,{children:Object(c.jsx)(f,{children:Object(c.jsx)(ke,{})})})})};a(426);o.a.render(Object(c.jsx)(Se,{}),document.getElementById("root"))}},[[427,1,2]]]);
//# sourceMappingURL=main.747f4765.chunk.js.map